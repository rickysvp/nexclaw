# NexClaw - Agent Wallet 管理平台需求文档

## 1. 项目概述

### 1.1 产品名称
NexClaw - AI Agent 安全钱包平台

### 1.2 产品定位
下一代 AI Agent 安全钱包平台，实现「用户一句话 → Agent 自动执行交易」的闭环体验。

### 1.3 核心价值主张
- **零助记词设计**：告别复杂助记词，采用嵌入式 AA 钱包技术
- **Agent 友好**：通过 UID 轻松集成，让 AI Agent 安全调用钱包功能
- **3 秒创建**：简单几步，快速创建 Agent Wallet
- **安全规则**：一键设置安全规则，控制交易风险

## 2. 目标用户

### 2.1 主要用户群体
1. **AI 开发者**：需要让 Agent 安全执行 Web3 交易的开发者
2. **区块链爱好者**：希望快速体验 AI + Web3 结合的用户
3. **企业/团队**：需要企业级安全钱包解决方案的项目方

### 2.2 用户痛点
- AI Agent 在执行 Web3 交易时面临安全风险
- 传统钱包助记词管理复杂
- Agent 与钱包集成困难
- 缺乏细粒度的交易控制

## 3. 功能需求

### 3.1 核心功能模块

#### 3.1.1 用户认证模块
- **登录/注册**：支持邮箱注册和登录
- **服务条款确认**：首次登录需确认服务条款和隐私政策
- **用户资料管理**：查看和编辑用户基本信息

#### 3.1.2 钱包管理模块
- **创建钱包**：
  - 3 秒快速创建 Agent Wallet
  - 自动生成唯一 UID
  - 分配钱包地址
  
- **钱包列表**：
  - 查看所有创建的钱包
  - 显示钱包地址、余额、创建时间
  - 复制钱包地址和 UID
  
- **钱包操作**：
  - 查看钱包详情
  - 转账功能
  - 充值功能
  - 删除钱包（可选）

#### 3.1.3 安全规则模块
- **PIN 码设置**：设置 6 位 PIN 码用于交易确认
- **交易限额**：设置单笔/日累计交易金额上限
- **地址白名单**：设置允许交易的地址列表
- **合约黑名单**：设置禁止交互的合约地址
- **安全评分**：根据设置的安全规则计算安全评分

#### 3.1.4 交易历史模块
- **交易记录**：
  - 查看所有交易历史
  - 显示交易类型、金额、状态、时间
  - 支持按钱包筛选
  
- **交易详情**：
  - 查看单笔交易详细信息
  - 交易哈希、Gas 费用等

#### 3.1.5 Agent 集成模块
- **SDK 集成**：
  - 提供 JavaScript/TypeScript SDK
  - 支持通过 UID 调用钱包功能
  - 创建钱包会话
  - 执行交易
  
- **测试工具**：
  - 模拟 Agent 调用测试
  - 交易确认弹窗预览
  - 集成代码示例

### 3.2 页面功能

#### 3.2.1 首页
- Hero 区域：展示核心价值主张
- 核心特性：4 个主要功能点展示
- 定价方案：Free/Plus/Enterprise 三档定价
- 用户评价：真实用户反馈展示
- CTA 区域：引导用户注册/使用

#### 3.2.2 仪表盘
- 侧边栏导航
- 使用统计（已创建钱包、本月交易、安全评分）
- 钱包管理标签页
- 交易历史标签页
- 小龙虾测试标签页

#### 3.2.3 关于我们
- 公司故事和使命
- 核心价值观展示
- 团队成员介绍

#### 3.2.4 文档中心
- 快速开始指南
- API 参考文档
- 示例代码
- 常见问题 FAQ

#### 3.2.5 联系我们
- 联系信息展示
- 联系表单
- 社交媒体链接

#### 3.2.6 法律页面
- 隐私政策
- 服务条款

## 4. 非功能需求

### 4.1 技术需求
- **前端框架**：Next.js 16 + React + TypeScript
- **样式方案**：Tailwind CSS + shadcn/ui
- **动画效果**：Framer Motion
- **状态管理**：React Hooks
- **数据存储**：Mock 数据（Demo 阶段）

### 4.2 性能需求
- 首屏加载时间 < 3 秒
- 页面切换动画流畅
- 支持响应式设计（桌面、平板、手机）

### 4.3 安全需求
- 用户数据加密存储
- 交易确认机制
- PIN 码保护
- 私钥永不离开用户设备

### 4.4 设计需求
- 深色主题设计
- 橙色到紫色渐变色彩方案
- 现代化 UI 风格
- 平滑的动画过渡效果

## 5. 用户流程

### 5.1 新用户流程
1. 访问首页 → 了解产品价值
2. 点击「立即体验」→ 进入仪表盘
3. 确认服务条款和隐私政策
4. 创建第一个 Agent Wallet
5. 设置安全规则
6. 集成到 Agent 中

### 5.2 日常使用流程
1. 登录仪表盘
2. 查看钱包列表和余额
3. 执行交易（转账/充值）
4. 查看交易历史
5. 管理安全规则

## 6. 数据结构

### 6.1 用户数据
```typescript
interface User {
  id: string;
  firstName: string;
  emailAddresses: { emailAddress: string }[];
  createdAt: string;
}
```

### 6.2 钱包数据
```typescript
interface Wallet {
  id: string;
  address: string;
  balance: string;
  createdAt: string;
  uid: string;
  userId: string;
}
```

### 6.3 交易数据
```typescript
interface Transaction {
  id: string;
  type: 'buy' | 'send' | 'receive';
  token?: string;
  to?: string;
  from?: string;
  amount: string;
  status: 'success' | 'pending' | 'failed';
  timestamp: string;
  walletId: string;
}
```

### 6.4 安全规则数据
```typescript
interface SecurityRule {
  id: string;
  walletId: string;
  pinCode?: string;
  maxAmount?: string;
  whitelistAddresses: string[];
  blacklistContracts: string[];
}
```

## 7. API 接口

### 7.1 钱包相关
- `POST /api/wallet/create` - 创建钱包
- `GET /api/wallet/list` - 获取钱包列表
- `GET /api/wallet/:id` - 获取钱包详情
- `POST /api/wallet/:id/execute` - 执行交易

### 7.2 交易相关
- `GET /api/wallet/:id/transactions` - 获取交易历史
- `GET /api/transaction/:id` - 获取交易详情

### 7.3 安全规则相关
- `POST /api/wallet/:id/security-rules` - 设置安全规则
- `GET /api/wallet/:id/security-rules` - 获取安全规则

## 8. 项目规划

### 8.1 开发阶段
1. **第一阶段**：基础架构和首页
2. **第二阶段**：用户认证和钱包管理
3. **第三阶段**：安全规则和交易历史
4. **第四阶段**：Agent 集成和测试工具
5. **第五阶段**：文档和法律页面

### 8.2 优先级
- **P0（高优先级）**：首页、仪表盘、钱包管理
- **P1（中优先级）**：安全规则、交易历史、Agent 集成
- **P2（低优先级）**：文档中心、关于我们、法律页面

## 9. 风险与注意事项

### 9.1 技术风险
- Web3 钱包安全实现复杂
- Agent 集成可能遇到兼容性问题
- 跨链支持需要额外开发

### 9.2 产品风险
- 用户教育成本高
- 竞品竞争激烈
- 监管政策不确定

### 9.3 缓解措施
- 充分的安全测试和审计
- 提供详细的文档和教程
- 关注行业动态和监管变化

## 10. 成功指标

### 10.1 用户指标
- 注册用户数
- 活跃用户数（DAU/MAU）
- 钱包创建数量
- 交易执行次数

### 10.2 产品指标
- 页面加载速度
- 用户留存率
- 功能使用率
- 用户满意度评分

---

**文档版本**：v1.0  
**创建日期**：2026-02-28  
**最后更新**：2026-02-28
