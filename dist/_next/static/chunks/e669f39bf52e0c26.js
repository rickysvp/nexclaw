(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},84614,e=>{"use strict";let s=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>s],84614)},83681,e=>{"use strict";var s=e.i(43476),t=e.i(932),a=e.i(71645),r=e.i(46932),l=e.i(88653),i=e.i(18566),n=e.i(69638),c=e.i(73884),o=e.i(3116),d=e.i(78894),m=e.i(73375),x=e.i(39616),h=e.i(84614),g=e.i(52754),y=e.i(43531),b=e.i(37727),p=e.i(19455),j=e.i(87486),u=e.i(93479),f=e.i(76639),N=e.i(41255);function v(){let e,v,k,_,C,S,T,D,H,P,U,R,A,B,I,L,O,$,z,E,K,X,G,M,W,q,F,J,Q,V,Y,Z,ee,es,et,ea,er,el,ei,en,ec,eo,ed,em,ex,eh,eg,ey,eb,ep,ej=(0,t.c)(94),eu=(0,i.useRouter)(),[ef,eN]=(0,a.useState)(N.mockPendingTransactions),[ev,ew]=(0,a.useState)(null),[ek,e_]=(0,a.useState)(""),[eC,eS]=(0,a.useState)(""),[eT,eD]=(0,a.useState)(!1),[eH,eP]=(0,a.useState)(!1),[eU,eR]=(0,a.useState)(null);ej[0]===Symbol.for("react.memo_cache_sentinel")?(e=(e,s)=>{eR({message:e,type:void 0===s?"success":s}),setTimeout(()=>eR(null),3e3)},ej[0]=e):e=ej[0];let eA=e;ej[1]!==ef||ej[2]!==ek||ej[3]!==ev?(v=()=>{let e=N.mockSecurityRules[0];e?.pinCode&&ek!==e.pinCode?eA("PIN 码错误","error"):ev&&(eN(ef.filter(e=>e.id!==ev.id)),eD(!1),e_(""),eA("交易已批准"))},ej[1]=ef,ej[2]=ek,ej[3]=ev,ej[4]=v):v=ej[4];let eB=v;ej[5]!==ef||ej[6]!==ev?(k=()=>{ev&&(eN(ef.filter(e=>e.id!==ev.id)),eP(!1),eS(""),eA("交易已拒绝"))},ej[5]=ef,ej[6]=ev,ej[7]=k):k=ej[7];let eI=k;ej[8]!==eU?(_=eU&&(0,s.jsxs)(r.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-4 left-1/2 -translate-x-1/2 z-50 px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 ${"success"===eU.type?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:["success"===eU.type?(0,s.jsx)(n.CheckCircle,{className:"h-5 w-5"}):(0,s.jsx)(c.XCircle,{className:"h-5 w-5"}),eU.message]}),ej[8]=eU,ej[9]=_):_=ej[9],ej[10]!==_?(C=(0,s.jsx)(l.AnimatePresence,{children:_}),ej[10]=_,ej[11]=C):C=ej[11],ej[12]!==eu?(S=()=>eu.push("/dashboard"),ej[12]=eu,ej[13]=S):S=ej[13],ej[14]===Symbol.for("react.memo_cache_sentinel")?(T={scale:1.05},D={scale:.95},H=(0,s.jsx)(m.ChevronLeft,{className:"h-5 w-5"}),ej[14]=T,ej[15]=D,ej[16]=H):(T=ej[14],D=ej[15],H=ej[16]),ej[17]!==S?(P=(0,s.jsx)(r.motion.button,{onClick:S,className:"p-2 rounded-lg text-gray-400 hover:text-white hover:bg-gray-800/50 transition-colors",whileHover:T,whileTap:D,children:H}),ej[17]=S,ej[18]=P):P=ej[18],ej[19]===Symbol.for("react.memo_cache_sentinel")?(U=(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-orange-500 to-purple-600 flex items-center justify-center",children:(0,s.jsx)(n.CheckCircle,{className:"h-5 w-5 text-white"})}),R=(0,s.jsx)("h1",{className:"text-xl font-bold text-white",children:"交易审批"}),ej[19]=U,ej[20]=R):(U=ej[19],R=ej[20]),ej[21]!==ef.length?(A=(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[U,(0,s.jsxs)("div",{children:[R,(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:[ef.length," 笔待审批"]})]})]}),ej[21]=ef.length,ej[22]=A):A=ej[22],ej[23]!==A||ej[24]!==P?(B=(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[P,A]}),ej[23]=A,ej[24]=P,ej[25]=B):B=ej[25],ej[26]!==eu?(I=()=>eu.push("/dashboard/settings"),ej[26]=eu,ej[27]=I):I=ej[27],ej[28]===Symbol.for("react.memo_cache_sentinel")?(L={scale:1.05},O={scale:.95},$=(0,s.jsx)(x.Settings,{className:"h-5 w-5"}),ej[28]=L,ej[29]=O,ej[30]=$):(L=ej[28],O=ej[29],$=ej[30]),ej[31]!==I?(z=(0,s.jsx)(r.motion.button,{onClick:I,className:"p-2 rounded-lg text-gray-400 hover:text-white hover:bg-gray-800/50 transition-colors",whileHover:L,whileTap:O,children:$}),ej[31]=I,ej[32]=z):z=ej[32],ej[33]===Symbol.for("react.memo_cache_sentinel")?(E=(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-orange-500 to-purple-600 flex items-center justify-center",children:(0,s.jsx)(h.User,{className:"h-4 w-4 text-white"})}),ej[33]=E):E=ej[33],ej[34]!==z?(K=(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[z,E]}),ej[34]=z,ej[35]=K):K=ej[35],ej[36]!==B||ej[37]!==K?(X=(0,s.jsx)("header",{className:"sticky top-0 z-40 bg-gray-950/80 backdrop-blur-md border-b border-gray-800/50",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[B,K]})})}),ej[36]=B,ej[37]=K,ej[38]=X):X=ej[38],ej[39]!==ef||ej[40]!==ev?(G=(0,s.jsx)("div",{className:"container mx-auto px-4 py-8 relative z-10",children:0===ef.length?(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)(n.CheckCircle,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"暂无待审批交易"}),(0,s.jsx)("p",{className:"text-gray-400",children:"所有交易请求已处理完毕"})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-4",children:"待审批列表"}),ef.map(e=>(0,s.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 rounded-2xl border cursor-pointer transition-all ${ev?.id===e.id?"bg-gradient-to-br from-orange-500/10 to-purple-500/10 border-orange-500/50":"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border-gray-700/50 hover:border-gray-600/50"}`,onClick:()=>ew(e),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-orange-500/20 to-purple-500/20 flex items-center justify-center",children:(0,s.jsx)(g.Wallet,{className:"h-5 w-5 text-orange-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-white",children:e.agentName}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.agentId})]})]}),(0,s.jsx)(j.Badge,{className:function(e){switch(e){case"low":return"bg-green-500/20 text-green-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"high":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}}(e.riskLevel),children:function(e){switch(e){case"low":return"低风险";case"medium":return"中风险";case"high":return"高风险";default:return"未知"}}(e.riskLevel)})]}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"金额"}),(0,s.jsxs)("span",{className:"font-medium text-white",children:[e.amount," ",e.token]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"≈ USDC"}),(0,s.jsxs)("span",{className:"font-medium text-white",children:["$",e.amountUSDC]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"类型"}),(0,s.jsx)("span",{className:"text-gray-300",children:"transfer"===e.type?"转账":"swap"===e.type?"兑换":"合约交互"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(r.motion.button,{onClick:s=>{s.stopPropagation(),ew(e),eD(!0)},className:"flex-1 px-4 py-2 rounded-lg bg-green-500/20 text-green-400 font-medium hover:bg-green-500/30 transition-colors flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)(y.Check,{className:"h-4 w-4"}),"批准"]}),(0,s.jsxs)(r.motion.button,{onClick:s=>{s.stopPropagation(),ew(e),eP(!0)},className:"flex-1 px-4 py-2 rounded-lg bg-red-500/20 text-red-400 font-medium hover:bg-red-500/30 transition-colors flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)(b.X,{className:"h-4 w-4"}),"拒绝"]})]})]},e.id))]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-4",children:"交易详情"}),ev?(0,s.jsx)(r.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border border-gray-700/50 rounded-2xl p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:["high"===ev.riskLevel&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(d.AlertTriangle,{className:"h-5 w-5 text-red-400 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-red-400",children:"高风险交易"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"该交易触发多条风控规则，请谨慎处理"})]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-700/30",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"交易类型"}),(0,s.jsx)("span",{className:"text-white font-medium",children:"transfer"===ev.type?"转账":"swap"===ev.type?"代币兑换":"合约交互"})]}),(0,s.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-700/30",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"金额"}),(0,s.jsxs)("span",{className:"text-white font-medium",children:[ev.amount," ",ev.token]})]}),(0,s.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-700/30",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"USDC 估值"}),(0,s.jsxs)("span",{className:"text-white font-medium",children:["$",ev.amountUSDC]})]}),(0,s.jsxs)("div",{className:"flex justify-between py-3 border-b border-gray-700/30",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Gas 预估"}),(0,s.jsxs)("span",{className:"text-white font-medium",children:[ev.gasEstimate," ETH"]})]}),(0,s.jsxs)("div",{className:"py-3 border-b border-gray-700/30",children:[(0,s.jsx)("span",{className:"text-gray-400 block mb-2",children:"发送方"}),(0,s.jsx)("span",{className:"font-mono text-sm text-white",children:ev.from})]}),(0,s.jsxs)("div",{className:"py-3 border-b border-gray-700/30",children:[(0,s.jsx)("span",{className:"text-gray-400 block mb-2",children:"接收方"}),(0,s.jsx)("span",{className:"font-mono text-sm text-white",children:ev.to})]}),ev.description&&(0,s.jsxs)("div",{className:"py-3 border-b border-gray-700/30",children:[(0,s.jsx)("span",{className:"text-gray-400 block mb-2",children:"描述"}),(0,s.jsx)("span",{className:"text-white",children:ev.description})]})]}),ev.triggeredRules.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"触发的风控规则"}),(0,s.jsx)("div",{className:"space-y-2",children:ev.triggeredRules.map(w)})]})]})}):(0,s.jsxs)("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border border-gray-700/50 rounded-2xl p-12 text-center",children:[(0,s.jsx)(o.Clock,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"选择左侧交易查看详情"})]})]})]})}),ej[39]=ef,ej[40]=ev,ej[41]=G):G=ej[41],ej[42]===Symbol.for("react.memo_cache_sentinel")?(M=(0,s.jsxs)(f.DialogHeader,{children:[(0,s.jsx)(f.DialogTitle,{className:"text-xl font-bold text-green-400",children:"批准交易"}),(0,s.jsx)(f.DialogDescription,{className:"text-gray-400",children:"确认批准此交易请求"})]}),ej[42]=M):M=ej[42],ej[43]===Symbol.for("react.memo_cache_sentinel")?(W=(0,s.jsx)("span",{className:"text-gray-400",children:"金额"}),ej[43]=W):W=ej[43];let eL=ev?.amount,eO=ev?.token;ej[44]!==eL||ej[45]!==eO?(q=(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[W,(0,s.jsxs)("span",{className:"text-white font-medium",children:[eL," ",eO]})]}),ej[44]=eL,ej[45]=eO,ej[46]=q):q=ej[46],ej[47]===Symbol.for("react.memo_cache_sentinel")?(F=(0,s.jsx)("span",{className:"text-gray-400",children:"接收方"}),ej[47]=F):F=ej[47],ej[48]!==ev?.to?(J=ev?.to.slice(0,10),ej[48]=ev?.to,ej[49]=J):J=ej[49],ej[50]!==J?(Q=(0,s.jsxs)("div",{className:"flex justify-between",children:[F,(0,s.jsxs)("span",{className:"font-mono text-sm text-white",children:[J,"..."]})]}),ej[50]=J,ej[51]=Q):Q=ej[51],ej[52]!==q||ej[53]!==Q?(V=(0,s.jsxs)("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[q,Q]}),ej[52]=q,ej[53]=Q,ej[54]=V):V=ej[54],ej[55]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"输入 PIN 码确认"}),ej[55]=Y):Y=ej[55],ej[56]===Symbol.for("react.memo_cache_sentinel")?(Z=e=>e_(e.target.value),ej[56]=Z):Z=ej[56],ej[57]!==ek?(ee=(0,s.jsxs)("div",{children:[Y,(0,s.jsx)(u.Input,{type:"password",value:ek,onChange:Z,placeholder:"6 位数字",maxLength:6,className:"bg-gray-900/80 border-gray-700 text-white font-mono tracking-widest"})]}),ej[57]=ek,ej[58]=ee):ee=ej[58],ej[59]===Symbol.for("react.memo_cache_sentinel")?(es=(0,s.jsx)(p.Button,{variant:"outline",onClick:()=>{eD(!1),e_("")},className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"取消"}),ej[59]=es):es=ej[59];let e$=6!==ek.length;return ej[60]===Symbol.for("react.memo_cache_sentinel")?(et={scale:1.02},ea={scale:.98},ej[60]=et,ej[61]=ea):(et=ej[60],ea=ej[61]),ej[62]!==eB||ej[63]!==e$?(er=(0,s.jsxs)("div",{className:"flex gap-3",children:[es,(0,s.jsx)(r.motion.button,{onClick:eB,disabled:e$,className:"flex-1 px-4 py-2 rounded-lg bg-green-500 text-white font-medium disabled:opacity-50",whileHover:et,whileTap:ea,children:"确认批准"})]}),ej[62]=eB,ej[63]=e$,ej[64]=er):er=ej[64],ej[65]!==V||ej[66]!==ee||ej[67]!==er?(el=(0,s.jsxs)(f.DialogContent,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 text-white",children:[M,(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[V,ee,er]})]}),ej[65]=V,ej[66]=ee,ej[67]=er,ej[68]=el):el=ej[68],ej[69]!==eT||ej[70]!==el?(ei=(0,s.jsx)(f.Dialog,{open:eT,onOpenChange:eD,children:el}),ej[69]=eT,ej[70]=el,ej[71]=ei):ei=ej[71],ej[72]===Symbol.for("react.memo_cache_sentinel")?(en=(0,s.jsxs)(f.DialogHeader,{children:[(0,s.jsx)(f.DialogTitle,{className:"text-xl font-bold text-red-400",children:"拒绝交易"}),(0,s.jsx)(f.DialogDescription,{className:"text-gray-400",children:"请填写拒绝原因"})]}),ej[72]=en):en=ej[72],ej[73]===Symbol.for("react.memo_cache_sentinel")?(ec=(0,s.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"拒绝原因（可选）"}),ej[73]=ec):ec=ej[73],ej[74]===Symbol.for("react.memo_cache_sentinel")?(eo=e=>eS(e.target.value),ej[74]=eo):eo=ej[74],ej[75]!==eC?(ed=(0,s.jsxs)("div",{children:[ec,(0,s.jsx)(u.Input,{value:eC,onChange:eo,placeholder:"例如：金额过大，需要进一步确认",className:"bg-gray-900/80 border-gray-700 text-white"})]}),ej[75]=eC,ej[76]=ed):ed=ej[76],ej[77]===Symbol.for("react.memo_cache_sentinel")?(em=(0,s.jsx)(p.Button,{variant:"outline",onClick:()=>{eP(!1),eS("")},className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"取消"}),ej[77]=em):em=ej[77],ej[78]===Symbol.for("react.memo_cache_sentinel")?(ex={scale:1.02},eh={scale:.98},ej[78]=ex,ej[79]=eh):(ex=ej[78],eh=ej[79]),ej[80]!==eI?(eg=(0,s.jsxs)("div",{className:"flex gap-3",children:[em,(0,s.jsx)(r.motion.button,{onClick:eI,className:"flex-1 px-4 py-2 rounded-lg bg-red-500 text-white font-medium",whileHover:ex,whileTap:eh,children:"确认拒绝"})]}),ej[80]=eI,ej[81]=eg):eg=ej[81],ej[82]!==ed||ej[83]!==eg?(ey=(0,s.jsxs)(f.DialogContent,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 text-white",children:[en,(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[ed,eg]})]}),ej[82]=ed,ej[83]=eg,ej[84]=ey):ey=ej[84],ej[85]!==eH||ej[86]!==ey?(eb=(0,s.jsx)(f.Dialog,{open:eH,onOpenChange:eP,children:ey}),ej[85]=eH,ej[86]=ey,ej[87]=eb):eb=ej[87],ej[88]!==X||ej[89]!==G||ej[90]!==C||ej[91]!==ei||ej[92]!==eb?(ep=(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-900",children:[C,X,G,ei,eb]}),ej[88]=X,ej[89]=G,ej[90]=C,ej[91]=ei,ej[92]=eb,ej[93]=ep):ep=ej[93],ep}function w(e,t){return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-yellow-400",children:[(0,s.jsx)(d.AlertTriangle,{className:"h-4 w-4"}),e]},t)}e.s(["default",()=>v])}]);